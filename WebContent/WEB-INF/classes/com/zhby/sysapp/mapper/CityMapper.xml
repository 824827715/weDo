<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.zhby.sysapp.mapper.CityMapper">
	<resultMap type="ProvinceObj" id="queryProvinceResult">
		<id property="id"  column="id" />
		<result property="name" column="name" />
	</resultMap>
	
	<sql id="table1">
		tbl_sys_province
	</sql>
	
	<select id="queryProvince" parameterType="ProvinceObj" resultMap="queryProvinceResult">
		select * from <include refid="table1" />
	</select>
	
	<resultMap type="hashmap" id="queryCityResult">
		<id property="id" column="id"/>
		<result property="provinceId" column="province_id"/>
		<result property="cityName" column="name"/>
	</resultMap>
	
	<sql id="table2">
		tbl_sys_city
	</sql>
	
	<select id="queryCity" parameterType="java.lang.Long" resultMap="queryCityResult">
		select * from <include refid="table2" />
		where province_id = #{provinceId,jdbcType=NUMERIC}
	</select>
	
	<resultMap type="hashmap" id="queryCountyResult">
		<id property="id" column="id"/>
		<result property="provinceId" column="province_id"/>
		<result property="provinceName" column="province_name"/>
		<result property="cityName" column="city_name"/>
		<result property="cityId" column="city_id"/>
		<result property="countyName" column="name"/>
	</resultMap>
	
	<sql id="table3">
		tbl_sys_county
	</sql>
	
	<select id="queryCounty" parameterType="java.lang.Long" resultMap="queryCountyResult">
		select * from <include refid="table3" />
		where city_id = #{cityId,jdbcType=NUMERIC}
	</select>
	
</mapper>